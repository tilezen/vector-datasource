# -*- encoding: utf-8 -*-
from shapely.wkt import loads as wkt_loads
import dsl
from . import FixtureTest


class Raceway(FixtureTest):
    def test_raceway_1(self):
        self.generate_fixtures(dsl.way(28825404, wkt_loads('LINESTRING (-122.462175517099 38.16664631664079, -122.461943661925 38.16655845653418, -122.461506002718 38.16628188013748, -122.461386167459 38.16619868100601, -122.460845112164 38.16582301243751, -122.460699225761 38.1657487825289, -122.460587565172 38.16570831271819, -122.460433144774 38.16567448191667, -122.460244318902 38.16564750201789, -122.460046869202 38.16559347156218, -122.459926674617 38.16551931204808, -122.459823727686 38.16545179151048, -122.459669217457 38.16533709120709, -122.459540488876 38.16522239072319, -122.459368820826 38.16508070995029, -122.459222934424 38.16498620886289, -122.459068424195 38.1649119781023, -122.458870974495 38.16486465683569, -122.458690772449 38.16484445700218, -122.458519104398 38.16484445700218, -122.45829587305 38.16486465683569, -122.458089889356 38.16485801773016, -122.457883905661 38.1648106964287, -122.457695079788 38.1647162656202, -122.457532035564 38.1646149836747, -122.457377525335 38.1645070624511, -122.457274488572 38.1643990704384, -122.457171631472 38.16427758806169, -122.4570856627 38.16417637613619, -122.45674241643 38.16369051456011, -122.456639379666 38.16354212095457, -122.456536432735 38.1634137860223, -122.456450643625 38.1633260632804, -122.456330359209 38.16321806951828, -122.456184472807 38.16312356601649, -122.455909767993 38.16294140981789, -122.455721031951 38.1628401960374, -122.45550642443 38.16271871106309, -122.455308974731 38.16262427754489, -122.455197403972 38.16257031547959, -122.455093738389 38.1625309740011, -122.454965728461 38.16248252109171, -122.454699557642 38.16240828778179, -122.454433566486 38.16236781611659, -122.454158861672 38.1623272737978, -122.453935720156 38.16230029266018, -122.453669729 38.1622666015399, -122.453463745306 38.1621990779898, -122.453309235077 38.16209786317881, -122.453189040492 38.1619898675974, -122.453060311911 38.16186838120618, -122.45297443297 38.16173340393759, -122.452880020034 38.16158500634869, -122.452802764919 38.16140948572629, -122.452725509805 38.1612002730682, -122.452313542416 38.16001929096488, -122.451893041031 38.1589597105386, -122.451850011729 38.15883150880948, -122.451850011729 38.15873028932369, -122.451884417205 38.158669472803, -122.451961582487 38.15860201655649, -122.452090400899 38.15856832372718, -122.452236287301 38.1585818149877, -122.452373639708 38.15863578000499, -122.452485210467 38.15873699962199, -122.452510902284 38.15880445574368, -122.453171792838 38.16045121337258, -122.453249137784 38.16055921123297, -122.453352084716 38.16066720893348, -122.454699557642 38.16150399144988, -122.455300440735 38.1618887231277, -122.455454861133 38.16198308696699, -122.455583679545 38.1620304101039, -122.4557468136 38.16207759194707, -122.455944173468 38.16209786317881, -122.456141623167 38.16209786317881, -122.456232442843 38.16209729812708, -122.45711153418 38.16209108255831, -122.457291736226 38.16206410133339, -122.457446246455 38.1620304101039, -122.457518560835 38.16200999759037, -122.45759878039 38.16198746612419, -122.457697595071 38.16194395706638, -122.457766136527 38.16189988292939, -122.457858213844 38.16184139989878, -122.457969784602 38.16176038528489, -122.458081445192 38.16167266055357, -122.458149986648 38.16161198775089, -122.458210083941 38.16153768292271, -122.458244399585 38.16148372005309, -122.45829587305 38.16142297646108, -122.458338812521 38.16135552276189, -122.45836459417 38.16128799836788, -122.45840753364 38.16122061517609, -122.458467630933 38.1611530906573, -122.458527728225 38.16109905687068, -122.458596269681 38.16105858447879, -122.458682238454 38.16103160287168, -122.458759403737 38.1610046212547, -122.4588624405 38.16099105980988, -122.45894822961 38.16099105980988, -122.459051176541 38.16099776990008, -122.459128521487 38.1610181120645, -122.459222934424 38.1610518037617, -122.459325881355 38.1611057669509, -122.459437541945 38.1611800722194, -122.459609120164 38.16128128830449, -122.459763630393 38.16139599498891, -122.459935298444 38.16153097288208, -122.460098432499 38.16165916986488, -122.460330108011 38.16186167119609, -122.46048461824 38.16198308696699, -122.460553339359 38.16205739134131, -122.460613436652 38.16213840562519, -122.460673444113 38.1622327691413, -122.460742075401 38.16234076436289, -122.46085373599 38.1624284882903, -122.460956682922 38.16248930167568, -122.461085411502 38.1625634642721, -122.46119698226 38.1626040064596, -122.461300019023 38.1626040064596, -122.461428837435 38.1626040064596, -122.461703362586 38.16259051594329, -122.461935217761 38.16257695479349, -122.462072480336 38.16259051594329, -122.462184140926 38.16262427754489, -122.462252682382 38.1626646784368, -122.462338561323 38.16271200113128, -122.462390124621 38.16275918253338, -122.462484537557 38.1628401960374, -122.463317006331 38.1638389784932, -122.463411419267 38.16394697133548, -122.463995144539 38.16464881496789, -122.464013380339 38.16468801404571, -122.464012302361 38.1647229753676, -122.46398930549 38.1647801847672, -122.463896599352 38.16489191953929, -122.463622343696 38.1651757053145, -122.463409532805 38.16541139216307)'), {u'source': u'openstreetmap.org', u'highway': u'raceway', u'oneway': u'yes'}))  # noqa

        self.assert_has_feature(
            16, 10476, 25242, 'roads',
            {'id': 28825404, 'kind': 'minor_road', 'kind_detail': 'raceway',
             'sort_rank': 375})

    def test_raceway_2(self):
        # Thunderoad Speedway Go-carts
        self.generate_fixtures(dsl.way(59440900, wkt_loads('LINESTRING (-122.231212818503 38.13752400539351, -122.231090557793 38.13748747661541, -122.230978268382 38.1375262663618, -122.230889694495 38.1375081786138, -122.230889335169 38.13743886575669, -122.230983568442 38.13736757448238, -122.230992012606 38.13729607117189, -122.230884304604 38.1371540535195, -122.230792586613 38.13716648890708, -122.230749018322 38.13723276383459, -122.230808396962 38.13733097497061, -122.230762313388 38.13740678822459, -122.230768062606 38.13752110852777, -122.23083768204 38.13759367144569, -122.230929489862 38.13763168392881, -122.230996863509 38.1376899037531, -122.230953744375 38.13775306938378, -122.230875141788 38.13779779400858, -122.23083238198 38.1378690142078, -122.23088879618 38.13793648962991, -122.230962008876 38.13794758244197, -122.231024980777 38.13791642364698, -122.231043126746 38.13784011633769, -122.23109567819 38.1377871957588, -122.231198625121 38.13774748763559, -122.231224766096 38.13768297955318, -122.231212818503 38.13752400539351)'), {u'bicycle': u'no', u'name': u'Thunderoad Speedway Go-carts', u'motor_vehicle': u'designated', u'surface': u'paved', u'access': u'private', u'source': u'openstreetmap.org', u'oneway': u'yes', u'foot': u'no', u'highway': u'raceway'}))  # noqa

        self.assert_has_feature(
            16, 10516, 25247, 'roads',
            {'id': 59440900, 'kind': 'minor_road', 'kind_detail': 'raceway',
             'sort_rank': 375})

# -*- encoding: utf-8 -*-
import dsl
from shapely.wkt import loads as wkt_loads

from . import FixtureTest


class Hotels(FixtureTest):
    def test_ritz_carlton(self):
        self.generate_fixtures(dsl.way(32947245, wkt_loads('POLYGON ((-122.407329775743 37.79184080178939, -122.407260964792 37.79184960438418, -122.407268241146 37.79188438882129, -122.407244525622 37.79188751232099, -122.40730022117 37.79215961122889, -122.406489042468 37.79226339614709, -122.406481676283 37.79222790200539, -122.406365074959 37.79224280954698, -122.406339113647 37.79211588238248, -122.406451762384 37.79210147173429, -122.406331837294 37.7915161698778, -122.406823664912 37.791453202622, -122.406830222613 37.79148486372909, -122.407146699088 37.79144439997987, -122.407202214972 37.7917150807438, -122.407229613589 37.79171160229279, -122.407237069605 37.79174851645779, -122.40730902466 37.79173928791827, -122.407329775743 37.79184080178939))'), {u'website': u'http://www.ritzcarlton.com/en/Properties/SanFrancisco/', u'building': u'yes', u'name': u'Ritz-Carlton', u'source': u'openstreetmap.org', u'building:levels': u'8', u'addr:postcode': u'94108', u'way_area': u'10019.5', u'addr:state': u'CA', u'height': u'29.78', u'phone': u'1-415-296-7465', u'addr:housenumber': u'600', u'addr:street': u'Stockton Street', u'tourism': u'hotel', u'addr:city': u'San Francisco'}))

        self.assert_has_feature(
            15, 5242, 12663, 'pois',
            {'kind': 'hotel', 'name': 'Ritz-Carlton'})

    def test_zephyr(self):
        self.generate_fixtures(dsl.way(93422625, wkt_loads('LINESTRING (-122.413568934717 37.8082184864869, -122.413249403971 37.8082546826744, -122.413185264259 37.80790187554879, -122.41316181823 37.80790457253178, -122.413155799518 37.80787156996978, -122.413487008363 37.80783409607501, -122.413491589771 37.80785936256678, -122.413479282852 37.80786078203229, -122.413536864861 37.80817767703849, -122.413561029543 37.80817498006539, -122.413568934717 37.8082184864869)'), {u'source': u'openstreetmap.org', u'inner': u'yes'}),dsl.way(-1358120, wkt_loads('POLYGON ((-122.41402869248 37.80835035408079, -122.412694604451 37.80850741673659, -122.412676188988 37.80850862327168, -122.412662175269 37.80850628117408, -122.41264519711 37.80849996460729, -122.41263280036 37.80849137691451, -122.412622918891 37.80847789210557, -122.412619864619 37.80846398145799, -122.412478110468 37.8077707878611, -122.41388532136 37.80760712310128, -122.41402869248 37.80835035408079), (-122.413568934717 37.8082184864869, -122.413561029543 37.80817498006539, -122.413536864861 37.80817767703849, -122.413479282852 37.80786078203229, -122.413491589771 37.80785936256678, -122.413487008363 37.80783409607501, -122.413155799518 37.80787156996978, -122.41316181823 37.80790457253178, -122.413185264259 37.80790187554879, -122.413249403971 37.8082546826744, -122.413568934717 37.8082184864869))'), {u'building': u'yes', u'addr:housenumber': u'250', u'name': u'Hotel Zephyr', u'way_area': u'14876.5', u'source': u'openstreetmap.org', u'tourism': u'hotel', u'addr:street': u'Beach Street'}))

        self.assert_has_feature(
            16, 10483, 25323, 'pois',
            {'kind': 'hotel', 'name': 'Hotel Zephyr'})

# -*- encoding: utf-8 -*-
import dsl
from shapely.wkt import loads as wkt_loads

from . import FixtureTest


class AddBridleway(FixtureTest):
    def test_bridleway(self):
        # Add bridleway from osm
        self.generate_fixtures(dsl.way(387216146, wkt_loads('LINESTRING (-73.97052484988149 40.78065205698829, -73.970491432553 40.78072477229578, -73.97047813748669 40.78076721786419, -73.9704661000619 40.7808247642164, -73.97046340511611 40.78087231134219, -73.97046744753489 40.78092781695659, -73.97047140012208 40.78098481899768, -73.97048613249279 40.78112555533131, -73.97048119175869 40.78128118801019, -73.97042486739041 40.781467973952, -73.9703578530702 40.78155129963059, -73.97026658423729 40.78166101728299, -73.97014567100008 40.78172209993969, -73.9700498207593 40.781767197678, -73.9697649649827 40.78182746398939, -73.9695612270762 40.78183970770289, -73.96921789097459 40.78185589660939, -73.9689121044519 40.78192296489458, -73.9686680321892 40.78201030320901, -73.96843743465578 40.78215035716669, -73.96830592129821 40.7822825204897, -73.96827367177949 40.7823981546791, -73.9682308221405 40.78264187007889, -73.96820405234499 40.78288361201739, -73.96815302803688 40.78312725761661, -73.96802968934838 40.78335280925068, -73.9678553263517 40.7835801966276, -73.96775354723 40.78366161513108, -73.96757639945599 40.7838380555557, -73.9673731107072 40.7840511574173, -73.96726791798739 40.78417120971298, -73.9672429448225 40.78421508146098, -73.9671638930775 40.78436315689859)'), {u'source': u'openstreetmap.org', u'highway': u'bridleway'}))

        self.assert_has_feature(
            16, 19302, 24623, 'roads',
            {'id': 387216146, 'kind': 'path', 'kind_detail': 'bridleway'})

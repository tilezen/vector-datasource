# -*- encoding: utf-8 -*-
import dsl
from shapely.wkt import loads as wkt_loads

from . import FixtureTest


class MilitaryLanduse(FixtureTest):
    def test_naval_station(self):
        # Naval Weapons Station Concord, CA
        self.generate_fixtures(dsl.way(154836419, wkt_loads('POLYGON ((-122.027649993713 38.02090090033268, -122.027345464832 38.02091427548929, -122.026117108513 38.02037756887689, -122.02544337205 38.02088731286957, -122.024640996838 38.0215288931464, -122.024368268318 38.02133407016838, -122.022832418676 38.02276278356689, -122.021419907724 38.02247801969348, -122.019871930826 38.02190098731829, -122.019718857902 38.02181896824418, -122.019107913677 38.02113698210291, -122.01896292559 38.02102198433319, -122.017381800858 38.0207478996906, -122.016191892433 38.0204109716184, -122.015916918125 38.0201899612476, -122.015247942732 38.01950399686061, -122.015095857955 38.01942197510358, -122.01269286457 38.01887697747399, -122.012565573294 38.01878306564348, -122.011855275399 38.017595958776, -122.011645788275 38.0177554769373, -122.010248279187 38.01713990760101, -122.008846368355 38.01723176916148, -122.005209808422 38.0149952825315, -122.005085391755 38.01485217790258, -122.005030594522 38.01468076338498, -122.005064191514 38.01447176735518, -122.003904735977 38.01364200548049, -122.003857664256 38.01354688376469, -122.003861706675 38.01338367612858, -122.005328565702 38.0132453810822, -122.00540779711 38.01323787888689, -122.006128245968 38.01286220193958, -122.004866023162 38.01146719778289, -122.004623208541 38.01159587051058, -122.003992142054 38.0117544108546, -122.003488636337 38.01152700444188, -122.002144936335 38.01176297485447, -121.99983186431 38.0122630116259, -121.998821888436 38.0126139908128, -121.998039904981 38.01277599697288, -121.997672943188 38.01201097653308, -121.997308945835 38.01089099882119, -121.997284870985 38.0105700212654, -121.99686787303 38.0106469569178, -121.99639589818 38.01218699776339, -121.995287916109 38.01238297747781, -121.992948882772 38.01333795527719, -121.992873873445 38.01355601375619, -121.991898931868 38.01450701291769, -121.991346917126 38.01471699968307, -121.99014290515 38.0148380231269, -121.9878659454 38.0157190111572, -121.986158607371 38.01433871166508, -121.983529058871 38.0119085626996, -121.968717905961 37.9973070051395, -121.945010916455 37.9832959535108, -121.939009990694 37.9798227772616, -121.939139887084 37.9716019698002, -121.940369860371 37.96782201830737, -121.945310863929 37.9635459685382, -121.948451913151 37.96311196155851, -121.948656908699 37.9630839861511, -121.948875917965 37.96315601395051, -121.949130859843 37.9632390193504, -121.949679910145 37.9634199736299, -121.950105891252 37.96356799460728, -121.950232913033 37.9636080097963, -121.950303879941 37.9636349934779, -121.950461893599 37.96369002315989, -121.950550916644 37.96371601528629, -121.950797863516 37.9637889631666, -121.95102792206 37.9638649563669, -121.952355901544 37.96372196443649, -121.952847908826 37.96409300631849, -121.954952931031 37.96568097923359, -121.956041868818 37.9665020062613, -121.957047892105 37.9672809571703, -121.957510883802 37.9676400125846, -121.957629910578 37.96773200697329, -121.958338861 37.9673429952727, -121.959115903721 37.96796401078571, -121.95849992893 37.96837900967158, -121.959042870688 37.96882799899849, -121.960803927971 37.9699669607101, -121.96122820228 37.97045566851599, -121.963876884895 37.97283301810179, -121.968323904877 37.97316598677708, -121.970026032678 37.971747566557, -121.972191870828 37.97314700859459, -121.975498210062 37.9755487719105, -121.977604040751 37.97376988697761, -121.984367007368 37.97874571370038, -121.986402679633 37.9803093660422, -121.98655117115 37.9804160724346, -121.987875018384 37.98136721817949, -121.996150029287 37.98750677867901, -121.998529486811 37.98928129513669, -121.998876865332 37.9895014783142, -121.999157588858 37.98967932353651, -122.003167039466 37.99222015511129, -122.0033212802 37.99229916309159, -122.004463488084 37.99128720318859, -122.006063836762 37.9924956915337, -122.009816908188 37.99073102283529, -122.010243338453 37.9868168976239, -122.010727889717 37.9865179754726, -122.011911869262 37.9856590100167, -122.011985890441 37.98560201434349, -122.012169865411 37.98546402090899, -122.012207864148 37.9854289737922, -122.01227793274 37.98536595974207, -122.01292094682 37.9849230190044, -122.013186937976 37.9847409848794, -122.013325907351 37.98468101476729, -122.015000906029 37.98385799613998, -122.015660538942 37.98355538012198, -122.016855657596 37.98514987070089, -122.017466871316 37.98554516023029, -122.018406239608 37.9859449789438, -122.019141510668 37.98636667310468, -122.021180686363 37.98894259406487, -122.021368074932 37.98968767772031, -122.021592384258 37.9909822815135, -122.021968868194 37.99241321478399, -122.023037324393 37.99337008096797, -122.021248509167 37.9941253139751, -122.022384069518 37.99547541164819, -122.024677019281 37.9981290942061, -122.024702890761 37.99823796917038, -122.023201985584 37.99872507293168, -122.022201531852 37.9990630917337, -122.022701534139 37.99968440516199, -122.022399700204 37.99981536379789, -122.022732885343 38.00033530266919, -122.02297372367 38.00080696084181, -122.023161920723 38.00126537881509, -122.023300800265 38.0016966826704, -122.0234085981 38.00219162071588, -122.02347740905 38.00267501736428, -122.023510017895 38.00312146096239, -122.023524480771 38.00347198842128, -122.022944258929 38.00498768893869, -122.021696229505 38.00650880833297, -122.020594176314 38.00792266369609, -122.02018544286 38.008312805117, -122.019431936 38.00887309892489, -122.017826646587 38.0092008787265, -122.017855482508 38.00935107230698, -122.017926539247 38.00956808096139, -122.01799139761 38.00969767714759, -122.016258637259 38.01008511954059, -122.011660520645 38.01061807951589, -122.011736158792 38.01098937975311, -122.013371811262 38.0119452958049, -122.013874418663 38.01184889790549, -122.015941621795 38.01545998139248, -122.024854616212 38.0192537559067, -122.025322638475 38.0190057787339, -122.025385430714 38.01908058243858, -122.026576327286 38.01871392324671, -122.027649993713 38.02090090033268))'), {u'AREAID': u'110169761326', u'name': u'Naval Weapons Station Concord', u'Tiger:MTFCC': u'K2110', u'way_area': u'3.38743e+07', u'longitude': u'-122.0212851', u'AWATER': u'527223', u'source': u'openstreetmap.org', u'latitude': u'+38.0453054', u'landuse': u'military', u'MTFCC': u'K2110', u'ALAND': u'44954320'}))

        self.assert_has_feature(
            16, 10553, 25274, 'landuse', {'kind': 'military'})

# -*- encoding: utf-8 -*-
import dsl
from shapely.wkt import loads as wkt_loads

from . import FixtureTest


class MultilineEncoded(FixtureTest):
    def test_multiline_encoded(self):
        # Way: Big Bear Boulevard (325846175)
        self.generate_fixtures(dsl.way(325846175, wkt_loads('LINESTRING (-116.961889936948 34.2366674842778, -116.961947429127 34.23664631858388, -116.962037889476 34.23662842057199, -116.962134458369 34.2366296088219, -116.962266959873 34.23666800413679, -116.962341879368 34.2367142715821, -116.96240898352 34.23677576342828, -116.962476267334 34.236877358554, -116.962513816913 34.2369808844551, -116.962546785084 34.23704920850949, -116.962650899826 34.23717776155279, -116.962731927864 34.23725410607489, -116.962855266553 34.23732911375781, -116.963114610175 34.2374656869811, -116.963460910717 34.2376475614733, -116.963589010477 34.23778071800829, -116.963733459574 34.2379277617901, -116.963822572451 34.23800328872359, -116.963939443269 34.23807161194829, -116.964172645917 34.23817669593019, -116.964441691344 34.2382632880033, -116.964659802295 34.238364955598, -116.964741369323 34.23843728878638, -116.964805329371 34.23852989597089, -116.964920493391 34.23863037502198, -116.96518432859 34.23877452103459, -116.965287814511 34.2388582162104, -116.965371537495 34.23899211346599, -116.965469903019 34.23923176154418, -116.965572490624 34.23938541221528, -116.965737061984 34.23949220260838, -116.965930559096 34.2395724067088, -116.9664098103 34.23965966571279, -116.9666719387 34.23979512121289, -116.967013568003 34.23991891724968, -116.967156310302 34.23996867325398, -116.967370019508 34.24000899787468, -116.967732399893 34.24000899787468, -116.967853582625 34.24002726648101, -116.968008901338 34.24010115775479, -116.968253692253 34.24028139278079, -116.968332923661 34.2403344903765, -116.968424461988 34.24036300711339, -116.968569899233 34.24036701727879, -116.969044569029 34.2403058251052, -116.969256481604 34.24028777934649, -116.969479892615 34.24025302454099, -116.969784870654 34.24016257286469, -116.969987440751 34.24008177522589, -116.97011670832 34.24000298260097, -116.970221182388 34.23991795183439, -116.970384226612 34.23969107893198, -116.970508822942 34.23959669071301, -116.970571974506 34.23956171283319, -116.970631083652 34.23953638913608, -116.97072908985 34.23953215614198, -116.97081020772 34.23954945943229, -116.97091602926 34.23958428879129, -116.971004333653 34.2396261731185, -116.971065778418 34.2396781571837, -116.971158843881 34.23978680377618, -116.971208610548 34.23991186229151, -116.97127454689 34.24012885768288, -116.971318115181 34.24021960644529, -116.97137560736 34.24029966132798, -116.971485291656 34.2404409082544, -116.971614559225 34.2405675995651, -116.971747959045 34.24065159000648, -116.9718563857 34.24070245950809, -116.97195223594 34.2407386993678, -116.972077191596 34.24076788432549, -116.972206818492 34.24078325655109, -116.972305902668 34.24078555867158, -116.972533445929 34.24077130037588, -116.972819020358 34.2407661020383, -116.972913523126 34.24078199409789, -116.972997425773 34.240810659207, -116.973083125052 34.24085469651899, -116.973151127519 34.24090378361349, -116.973207901045 34.24096891122731, -116.973248864221 34.24105052489347, -116.973263686424 34.24115360009299, -116.973278867952 34.24138121166798, -116.973307793704 34.241435868059, -116.973349565365 34.2414793852145, -116.973409393163 34.24151569900109, -116.973540187868 34.24155550305178, -116.973620317591 34.2415688700795, -116.973709610131 34.24157169200731, -116.973948023007 34.2415445866442, -116.97414511338 34.24151295133268, -116.974284891239 34.24150181213568, -116.974402031552 34.24152008041798, -116.974469315366 34.24154956214991, -116.974518273549 34.24158877209467, -116.97456768089 34.24167847962701, -116.974595259169 34.24181007030428, -116.974638288471 34.2420050795866, -116.974716801227 34.24209619763029, -116.974840768736 34.24215360120459, -116.974973360072 34.24218345401818, -116.975170540277 34.242197117989, -116.975386674935 34.2421420907886, -116.976005344671 34.24188455410099, -116.976582063083 34.24171820933961)'), {u'tiger:name_base': u'Big Bear', u'lanes': u'2', u'name': u'Big Bear Boulevard', u'tiger:cfcc': u'A21', u'source': u'openstreetmap.org', u'tiger:reviewed': u'no', u'tiger:name_base_1': u'State Highway 18', u'tiger:county': u'San Bernardino, CA', u'tiger:name_type': u'Blvd', u'ref': u'CA 18', u'highway': u'primary'}))

        self.assert_feature_geom_type(16, 11473, 26126, 'roads',
                                      325846175, 'LineString')
